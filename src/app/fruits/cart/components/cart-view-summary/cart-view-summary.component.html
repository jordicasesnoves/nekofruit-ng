<ng-container *ngIf="!loading; else elseBlock">
  <ng-container *ngIf="cartItems.length > 0; else elseBlock">
    <div class="flex flex-row space-x-8">
      <div class="flex-1 flex flex-col space-y-4">
        <div class="flex items-end space-x-4">
          <span class="text-4xl font-medium">Cart</span>
          <!--<span class="text-gray-500 text-lg"
            >({{ cartItems.length }} products)</span
          >-->
        </div>
        <app-cart-item
          *ngFor="let item of cartItems"
          [item]="item"
          (addedItemQuantity)="addItemQuantity($event)"
          (removedItemQuantity)="removeItemQuantity($event)"
          (removedProduct)="removeProductFromCart($event)"
        ></app-cart-item>
      </div>
      <div class="w-1/4">
        <div class="text-4xl font-medium mb-4">Summary</div>
        <div class="flex space-y-3 flex-col mt-8">
          <div class="flex justify-between">
            <span>Subtotal</span>
            <span>{{ total | currency: "EUR":"symbol":"1.2-2" }}</span>
          </div>
          <div class="flex justify-between">
            <span>Shipping</span>
            <span>{{ 0 | currency: "EUR":"symbol":"1.2-2" }}</span>
          </div>
          <hr />
          <div class="flex justify-between">
            <span>Total</span>
            <span class="font-bold text-lg">{{
              total | currency: "EUR":"symbol":"1.2-2"
            }}</span>
          </div>
          <hr />
          <div class="pt-3">
            <button
              class="w-full transition-all duration-200 outline-none focus:outline-none bg-primary hover:bg-green-600 text-white text-lg rounded-full py-3 text-center"
            >
              <div class="flex flex-1 items-center justify-center">
                <span> Checkout </span>
                <svg
                  class="ml-3 h-6 w-auto"
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="currentColor"
                    d="M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"
                  />
                </svg>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-template #elseBlock> No cart items found </ng-template>
</ng-container>

<ng-template #elseBlock> Loading... </ng-template>
